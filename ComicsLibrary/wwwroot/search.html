<h3>Search</h3>

<div class="card mb-3">
    <div class="card-body pt-3 pl-3 pr-3 pb-0">
        <form>
            <div class="form-row align-items-center">

                <div class="col-12 col-md-6 mb-3">
                    <input type="text" class="form-control" id="inlineFormInput" placeholder="Enter search text" data-bind="value: searchText">
                </div>

                <div class="col-12 col-md-6 mb-3">
                    <div>
                        <select class="form-control flex-grow-1" data-bind="value: source, options: sourceOptions, optionsText: 'name', event:{ change: $root.sourceChanged}"/>
                    </div>
                </div>

                <div class="col-12 col-md-6 mb-3">
                    <div class="d-flex">
                        <select class="form-control flex-grow-1" data-bind="value: sortOrder, options: sortOptions, optionsText: 'name'" />

                        <button data-bind="click: startSearch" type="button" class="btn btn-dark ml-2">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>

            </div>
        </form>

    </div>
</div>

<p data-bind="visible: noResults()">No results found</p>

<div data-bind="visible: !noResults(), foreach: results" class="accordion" id="searchResults">

    <search-result params="title: title,
                          sourceItemId: sourceItemId,
                          imageUrl: imageUrl,
                          url: url,
                          sourceId: sourceId,
                          libraryId: libraryId" />
</div>

<div class="text-center">
    <p data-bind="visible: (pagesFetched() >= 1)">Fetched <span data-bind="text: pagesFetched"></span> of <span data-bind="text: totalPages"></span> pages</p>

    <a class="btn btn-light btn-sm" data-bind="visible: (pagesFetched() < totalPages()), click: getMoreResults">Show more</a>

</div>